<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Practice Test | Info Mates</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f2f5f9;
  color:#333;
}

/* Header */
header{
  background:#0b3c5d;
  color:white;
  padding:16px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
}

/* Container */
.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

/* Timer */
.timer{
  text-align:right;
  font-weight:bold;
  color:#0b3c5d;
  margin-bottom:10px;
}

/* Question Card */
.question-card{
  background:white;
  padding:20px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,0.12);
}

.question-card p{
  font-size:16px;
  font-weight:bold;
}

.option{
  margin:10px 0;
}

/* Navigation */
.nav-buttons{
  display:flex;
  justify-content:space-between;
  margin-top:20px;
}

button{
  padding:10px 18px;
  font-size:14px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#0b3c5d;
  color:white;
}

button:disabled{
  background:#aaa;
}

/* Result */
.result{
  background:#eef3f7;
  padding:20px;
  border-radius:10px;
  margin-bottom:20px;
  display:none;
}

.result h3{
  margin-top:0;
  color:#0b3c5d;
}

/* Footer */
footer{
  background:#0b3c5d;
  color:white;
  text-align:center;
  padding:14px;
  margin-top:40px;
  font-size:14px;
}
</style>
</head>

<body>

<header>Practice Test</header>

<div class="container">

  <!-- RESULT SECTION (AUTO FOCUS) -->
  <div id="result" class="result"></div>

  <div class="timer" id="timer">Time: 30:00</div>

  <div id="testArea"></div>

</div>

<footer>
  YouTube: <b>info_mates</b> | Telegram: <b>infomate</b> | Email: sk88875
</footer>

<script>
/* ---------------- TEST DATA ---------------- */

const test = [
  {
    q: "20% of 150 is:",
    o: ["20","25","30","35"],
    a: 2,
    subject: "Maths"
  },
  {
    q: "Which one is odd?",
    o: ["Dog","Cat","Tiger","Car"],
    a: 3,
    subject: "Reasoning"
  },
  {
    q: "SI unit of Force is:",
    o: ["Joule","Newton","Pascal","Watt"],
    a: 1,
    subject: "GK"
  }
];

/* ---------------- VARIABLES ---------------- */

let index = 0;
let answers = [];
let time = 1800;
let timerInterval;

/* ---------------- START TEST ---------------- */

startTest();

function startTest(){
  index = 0;
  answers = [];
  time = 1800;
  showQuestion();
  timerInterval = setInterval(updateTimer, 1000);
}

/* ---------------- TIMER ---------------- */

function updateTimer(){
  time--;
  let m = Math.floor(time/60);
  let s = time % 60;
  document.getElementById("timer").innerText =
    `Time: ${m}:${s<10?"0"+s:s}`;

  if(time <= 0){
    submitTest();
  }
}

/* ---------------- QUESTION DISPLAY ---------------- */

function showQuestion(){
  const q = test[index];

  let html = `
    <div class="question-card">
      <p>Question ${index+1} of ${test.length}</p>
      <p>${q.q}</p>
  `;

  q.o.forEach((opt,i)=>{
    const checked = answers[index] === i ? "checked" : "";
    html += `
      <div class="option">
        <label>
          <input type="radio" name="opt" ${checked}
          onclick="saveAnswer(${i})"> ${opt}
        </label>
      </div>
    `;
  });

  html += `
    <div class="nav-buttons">
      <button onclick="prevQ()" ${index===0?"disabled":""}>â¬… Back</button>
      ${
        index === test.length-1
        ? `<button onclick="submitTest()">Submit</button>`
        : `<button onclick="nextQ()">Next âž¡</button>`
      }
    </div>
    </div>
  `;

  document.getElementById("testArea").innerHTML = html;
}

/* ---------------- NAVIGATION ---------------- */

function saveAnswer(val){
  answers[index] = val;
}

function nextQ(){
  index++;
  showQuestion();
}

function prevQ(){
  index--;
  showQuestion();
}

/* ---------------- SUBMIT & RESULT ---------------- */

function submitTest(){
  clearInterval(timerInterval);

  let score = 0;
  let attempt = 0;

  test.forEach((q,i)=>{
    if(answers[i] !== undefined){
      attempt++;
      if(answers[i] === q.a){
        score += 1;
      } else {
        score -= 0.33;
      }
    }
  });

  let accuracy = ((score/test.length)*100).toFixed(1);

  let resultHTML = `
    <h3>Test Result</h3>
    <p><b>Score:</b> ${score.toFixed(2)}</p>
    <p><b>Attempted:</b> ${attempt} / ${test.length}</p>
    <p><b>Accuracy:</b> ${accuracy}%</p>
    <p>Revise weak subjects from the Learn section.</p>
  `;

  const resBox = document.getElementById("result");
  resBox.innerHTML = resultHTML;
  resBox.style.display = "block";

  /* ðŸ”´ AUTO SCROLL TO RESULT (YOUR MAIN REQUEST) */
  resBox.scrollIntoView({ behavior: "smooth" });

  document.getElementById("testArea").innerHTML = "";
}
</script>

</body>
</html>
